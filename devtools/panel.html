<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>VulnScanner Panel</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 10px;
            background-color: #f9f9f9;
            color: #333;
        }

        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h3 {
            color: #34495e;
            margin-top: 20px;
        }

        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 14px;
        }

        button:hover {
            background-color: #2980b9;
        }

        button.secondary {
            background-color: #95a5a6;
        }

        button.secondary:hover {
            background-color: #7f8c8d;
        }

        button.danger {
            background-color: #e74c3c;
        }

        button.danger:hover {
            background-color: #c0392b;
        }

        button.success {
            background-color: #27ae60;
        }

        button.success:hover {
            background-color: #219150;
        }

        .tab {
            overflow: hidden;
            border-bottom: 1px solid #ccc;
            margin-bottom: 15px;
        }

        .tab button {
            background-color: transparent;
            color: #555;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 10px 20px;
            transition: 0.3s;
            border-bottom: 3px solid transparent;
            border-radius: 0;
        }

        .tab button:hover {
            background-color: #f1f1f1;
        }

        .tab button.active {
            border-bottom: 3px solid #3498db;
            color: #3498db;
            font-weight: bold;
        }

        .tabcontent {
            display: none;
            padding: 15px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 13px;
        }

        th,
        td {
            border: 1px solid #eee;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f8f9fa;
            color: #555;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #fcfcfc;
        }

        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Consolas', monospace;
            font-size: 12px;
        }

        #network-log div {
            font-family: 'Consolas', monospace;
            font-size: 12px;
        }

        .controls {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 50%;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        input[type="text"],
        select {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h2>
        VulnScanner ëŒ€ì‹œë³´ë“œ
        <div style="font-size: 14px; font-weight: normal;">
            <select id="target-select" style="min-width: 150px;">
                <option value="">ëŒ€ìƒ ì„ íƒ (ì €ì¥ìš©)</option>
            </select>
            <button id="btn-add-target" class="secondary" title="ìƒˆ ëŒ€ìƒ ì¶”ê°€">+</button>
            <button id="btn-manage-targets" class="secondary" title="ëŒ€ìƒ ê´€ë¦¬">âš™ï¸</button>
        </div>
    </h2>

    <div class="controls">
        <button id="btn-export">ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°</button>
        <button id="btn-clear" class="secondary">í™”ë©´ ì§€ìš°ê¸°</button>
        <button id="btn-settings" class="secondary" style="margin-left: auto;">ì„¤ì • (í•„í„°)</button>
    </div>

    <div class="tab">
        <button id="tab-crawling" class="tablinks active">í¬ë¡¤ë§ & DOM</button>
        <button id="tab-security" class="tablinks">ë³´ì•ˆ í—¤ë”</button>
        <button id="tab-network" class="tablinks">ë„¤íŠ¸ì›Œí¬</button>
        <button id="tab-inspector" class="tablinks">ê²€ì‚¬ê¸°</button>
        <button id="tab-explorer" class="tablinks">ë°ì´í„° íƒìƒ‰ê¸°</button>
        <button id="tab-encoder" class="tablinks">ì¸ì½”ë”/ë””ì½”ë”</button>
        <button id="tab-repeater" class="tablinks">ë¦¬í”¼í„°</button>
    </div>

    <div id="Crawling" class="tabcontent" style="display:block">
        <div style="margin-bottom: 10px; display: flex; gap: 10px;">
            <button id="btn-refresh-dom">í˜„ì¬ í˜ì´ì§€ ìŠ¤ìº”</button>
            <button id="btn-save-scan" class="success">í˜„ì¬ ê²°ê³¼ ì €ì¥</button>
            <span id="save-status" style="margin-left: 10px; color: green; align-self: center;"></span>
        </div>

        <div style="display: flex; gap: 10px;">
            <div style="flex: 1; border: 1px solid #eee; padding: 5px;">
                <h4>í˜„ì¬ í˜ì´ì§€ ê²°ê³¼</h4>
                <div id="dom-results"></div>
            </div>
        </div>
    </div>

    <div id="Security" class="tabcontent">
        <h3>ë³´ì•ˆ ë¶„ì„</h3>
        <button id="btn-force-reload">í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë° ë¶„ì„</button>
        <button id="btn-refresh-security">ì¿ í‚¤ ì •ë³´ë§Œ ìƒˆë¡œê³ ì¹¨</button>
        <div id="security-headers"></div>
    </div>

    <div id="Network" class="tabcontent">
        <h3>ë„¤íŠ¸ì›Œí¬ ë¡œê·¸</h3>
        <div id="network-log" style="max-height: 400px; overflow-y: auto; border: 1px solid #eee; padding: 5px;"></div>
    </div>

    <div id="Inspector" class="tabcontent">
        <h3>ìš”ì†Œ ê²€ì‚¬ê¸°</h3>
        <button id="btn-start-inspect">ê²€ì‚¬ ì‹œì‘</button>
        <div id="inspector-details" style="margin-top: 10px;"></div>
    </div>

    <div id="Explorer" class="tabcontent">
        <h3>ë°ì´í„° íƒìƒ‰ê¸°</h3>
        <div class="controls">
            <input type="text" id="explorer-search" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (URL, ë‚´ìš©)..." style="width: 300px;">
            <button id="btn-explorer-search">ê²€ìƒ‰</button>
            <button id="btn-explorer-delete" class="danger">ì„ íƒ ì‚­ì œ</button>
        </div>
        <div id="explorer-results">
            <p>ëŒ€ìƒì„ ì„ íƒí•˜ê³  ê²€ìƒ‰í•˜ì„¸ìš”.</p>
        </div>
    </div>

    <div id="EncoderDecoder" class="tabcontent">
        <h3>ì¸ì½”ë”© / ë””ì½”ë”© & í…ìŠ¤íŠ¸ ë³µêµ¬</h3>

        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
            <div style="flex: 1;">
                <label for="encoder-input"><b>ì…ë ¥:</b></label>
                <textarea id="encoder-input" rows="8"
                    style="width: 100%; box-sizing: border-box; font-family: monospace;"
                    placeholder="ë³€í™˜í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
            </div>
            <div style="flex: 1;">
                <label for="encoder-output"><b>ì¶œë ¥:</b></label>
                <textarea id="encoder-output" rows="8"
                    style="width: 100%; box-sizing: border-box; font-family: monospace;"
                    placeholder="ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤."></textarea>
            </div>
        </div>

        <div class="controls" style="flex-wrap: wrap;">
            <button id="btn-base64-encode">Base64 Enc</button>
            <button id="btn-base64-decode">Base64 Dec</button>
            <button id="btn-url-encode">URL Enc</button>
            <button id="btn-url-decode">URL Dec</button>
            <button id="btn-hex-encode">Hex Enc</button>
            <button id="btn-hex-decode">Hex Dec</button>
            <button id="btn-html-encode">HTML Enc</button>
            <button id="btn-html-decode">HTML Dec</button>
        </div>

        <hr style="margin: 15px 0; border: 0; border-top: 1px solid #eee;">

        <h4>í•œê¸€ ê¹¨ì§ ë³µêµ¬ (Mojibake Fixer)</h4>
        <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">
            ì˜ëª»ëœ ì¸ì½”ë”©ìœ¼ë¡œ ê¹¨ì ¸ ë³´ì´ëŠ” í…ìŠ¤íŠ¸ë¥¼ ë³µêµ¬í•©ë‹ˆë‹¤. (ì…ë ¥ë€ì˜ í…ìŠ¤íŠ¸ë¥¼ ë³€í™˜í•˜ì—¬ ì¶œë ¥ë€ì— í‘œì‹œ)
        </p>
        <div class="controls">
            <button id="btn-fix-utf8-latin1" title="UTF-8 ë°”ì´íŠ¸ê°€ Latin1ìœ¼ë¡œ í•´ì„ëœ ê²½ìš° (ì˜ˆ: ÃƒÂ©Ãƒ...)">UTF-8 (Latin1 í•´ì„)
                ë³µêµ¬</button>
            <button id="btn-fix-euckr-latin1" title="EUC-KR ë°”ì´íŠ¸ê°€ Latin1ìœ¼ë¡œ í•´ì„ëœ ê²½ìš° (ì˜ˆ: Â¼Ã¶...)">EUC-KR (Latin1 í•´ì„)
                ë³µêµ¬</button>
            <button id="btn-swap-input-output" class="secondary">ğŸ”„ ì…ë ¥/ì¶œë ¥ êµì²´</button>
        </div>
    </div>

    <div id="Repeater" class="tabcontent">
        <h3>ë¦¬í”¼í„° (HTTP ìš”ì²­ ì „ì†¡)</h3>
        <div class="controls" style="flex-wrap: wrap;">
            <button id="btn-repeater-send" class="success">ì „ì†¡ (Send)</button>
            <button id="btn-repeater-beautify">ì •ë ¬ (Beautify)</button>
            <button id="btn-repeater-load-file" class="secondary">íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°</button>
            <input type="file" id="file-repeater-load" style="display: none;">

            <span style="margin-left: 10px; border-left: 1px solid #ccc; padding-left: 10px;">
                <input type="checkbox" id="chk-repeater-wrap" checked> <label for="chk-repeater-wrap">ìë™ ì¤„ë°”ê¿ˆ</label>
            </span>

            <span style="margin-left: auto; display: flex; gap: 5px;">
                <button id="btn-layout-split" class="secondary" title="ë¶„í•  ë³´ê¸°">Split</button>
                <button id="btn-layout-request" class="secondary" title="ìš”ì²­ë§Œ ë³´ê¸°">Req</button>
                <button id="btn-layout-response" class="secondary" title="ì‘ë‹µë§Œ ë³´ê¸°">Res</button>
                <button id="btn-repeater-render" title="ë¸Œë¼ìš°ì €ì—ì„œ ë³´ê¸°">ğŸŒ Render</button>
            </span>
        </div>
        <div id="repeater-container" style="display: flex; gap: 10px; height: 500px;">
            <div id="repeater-request-container" style="flex: 1; display: flex; flex-direction: column;">
                <label for="repeater-request"><b>ìš”ì²­ (Raw Request):</b></label>
                <textarea id="repeater-request"
                    style="flex: 1; font-family: monospace; white-space: pre-wrap; overflow: auto; padding: 10px; border: 1px solid #ccc;"
                    placeholder="GET / HTTP/1.1&#10;Host: example.com&#10;&#10;"></textarea>
            </div>
            <div id="repeater-response-container" style="flex: 1; display: flex; flex-direction: column;">
                <label for="repeater-response"><b>ì‘ë‹µ (Response):</b></label>
                <div id="repeater-response"
                    style="flex: 1; font-family: monospace; white-space: pre-wrap; overflow: auto; padding: 10px; border: 1px solid #ccc; background: #f8f9fa;">
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="modal-add-target" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>ìƒˆ ëŒ€ìƒ ì¶”ê°€</h3>
            <input type="text" id="input-target-name" placeholder="ëŒ€ìƒ ì´ë¦„ (ì˜ˆ: Project Alpha)"
                style="width: 100%; margin-bottom: 10px;">
            <input type="text" id="input-target-desc" placeholder="ì„¤ëª… (ì„ íƒ)" style="width: 100%; margin-bottom: 10px;">
            <button id="btn-confirm-add-target" class="success">ì¶”ê°€</button>
        </div>
    </div>

    <div id="modal-settings" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>ì„¤ì •</h3>

            <div style="margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px;">
                <h4>ì¼ë°˜ ì„¤ì •</h4>
                <label for="input-max-links">ìµœëŒ€ ë§í¬ ìˆ˜ì§‘ ê°œìˆ˜:</label>
                <input type="number" id="input-max-links" value="1000" style="width: 80px;">
                <button id="btn-save-general-settings" class="success"
                    style="padding: 4px 8px; font-size: 12px;">ì €ì¥</button>
            </div>

            <h4>ì£¼ì„ í•„í„° (Regex)</h4>
            <p style="font-size: 0.9em; color: #666;">ì´ ì •ê·œì‹ê³¼ ì¼ì¹˜í•˜ëŠ” ì£¼ì„ì€ ìˆ˜ì§‘/ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
            <ul id="settings-filters-list" style="list-style: none; padding: 0;"></ul>
            <div style="display: flex; gap: 5px;">
                <input type="text" id="input-new-filter" placeholder="ìƒˆ í•„í„° ì •ê·œì‹ (ì˜ˆ: ^\s*$)" style="flex: 1;">
                <button id="btn-add-filter">ì¶”ê°€</button>
            </div>
            <div style="margin-top: 20px; text-align: right;">
                <button id="btn-reset-filters" class="danger">ì´ˆê¸°í™”</button>
            </div>
        </div>
    </div>

    <div id="modal-manage-targets" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>ëŒ€ìƒ ê´€ë¦¬</h3>
            <ul id="target-list" style="list-style: none; padding: 0;"></ul>
            <p style="font-size: 0.9em; color: #666;">ëŒ€ìƒì„ ì‚­ì œí•˜ë©´ ê´€ë ¨ ìŠ¤ìº” ë°ì´í„°ë„ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <script type="module" src="panel.js"></script>
</body>

</html>